{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Home(){const[username,setUsername]=useState('');const[fixtures,setFixtures]=useState([]);const[error,setError]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchUserAndFixtures=async()=>{try{const userResponse=await fetch('/api/user',{credentials:'include'});if(userResponse.ok){const userData=await userResponse.json();setUsername(userData.username);const fixturesResponse=await fetch('/api/fixtures',{credentials:'include'});if(fixturesResponse.ok){const fixturesData=await fixturesResponse.json();setFixtures(fixturesData);}else{throw new Error('Failed to fetch fixtures');}}else{throw new Error('Not authenticated');}}catch(error){console.error('Error fetching data:',error);setError(error.message);if(error.message==='Not authenticated'){navigate('/login');}}};fetchUserAndFixtures();},[navigate]);if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",username,\"!\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Today's Fixtures\"}),/*#__PURE__*/_jsx(\"ul\",{children:fixtures.map((fixture,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[fixture.team1,\" vs \",fixture.team2,\" - \",fixture.time]},index))})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","Home","username","setUsername","fixtures","setFixtures","error","setError","navigate","fetchUserAndFixtures","userResponse","fetch","credentials","ok","userData","json","fixturesResponse","fixturesData","Error","console","message","children","map","fixture","index","team1","team2","time"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/לימודים/GameScout/client/src/components/home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Home() {\r\n  const [username, setUsername] = useState('');\r\n  const [fixtures, setFixtures] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserAndFixtures = async () => {\r\n      try {\r\n        const userResponse = await fetch('/api/user', { credentials: 'include' });\r\n        if (userResponse.ok) {\r\n          const userData = await userResponse.json();\r\n          setUsername(userData.username);\r\n          \r\n          const fixturesResponse = await fetch('/api/fixtures', { credentials: 'include' });\r\n          if (fixturesResponse.ok) {\r\n            const fixturesData = await fixturesResponse.json();\r\n            setFixtures(fixturesData);\r\n          } else {\r\n            throw new Error('Failed to fetch fixtures');\r\n          }\r\n        } else {\r\n          throw new Error('Not authenticated');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setError(error.message);\r\n        if (error.message === 'Not authenticated') {\r\n          navigate('/login');\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUserAndFixtures();\r\n  }, [navigate]);\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Welcome, {username}!</h1>\r\n      <h2>Today's Fixtures</h2>\r\n      <ul>\r\n        {fixtures.map((fixture, index) => (\r\n          <li key={index}>\r\n            {fixture.team1} vs {fixture.team2} - {fixture.time}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE/C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAa,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAC,KAAK,CAAC,WAAW,CAAE,CAAEC,WAAW,CAAE,SAAU,CAAC,CAAC,CACzE,GAAIF,YAAY,CAACG,EAAE,CAAE,CACnB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,YAAY,CAACK,IAAI,CAAC,CAAC,CAC1CZ,WAAW,CAACW,QAAQ,CAACZ,QAAQ,CAAC,CAE9B,KAAM,CAAAc,gBAAgB,CAAG,KAAM,CAAAL,KAAK,CAAC,eAAe,CAAE,CAAEC,WAAW,CAAE,SAAU,CAAC,CAAC,CACjF,GAAII,gBAAgB,CAACH,EAAE,CAAE,CACvB,KAAM,CAAAI,YAAY,CAAG,KAAM,CAAAD,gBAAgB,CAACD,IAAI,CAAC,CAAC,CAClDV,WAAW,CAACY,YAAY,CAAC,CAC3B,CAAC,IAAM,CACL,KAAM,IAAI,CAAAC,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CACF,CAAC,IAAM,CACL,KAAM,IAAI,CAAAA,KAAK,CAAC,mBAAmB,CAAC,CACtC,CACF,CAAE,MAAOZ,KAAK,CAAE,CACda,OAAO,CAACb,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAACD,KAAK,CAACc,OAAO,CAAC,CACvB,GAAId,KAAK,CAACc,OAAO,GAAK,mBAAmB,CAAE,CACzCZ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CACF,CAAC,CAEDC,oBAAoB,CAAC,CAAC,CACxB,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,GAAIF,KAAK,CAAE,CACT,mBAAOR,KAAA,QAAAuB,QAAA,EAAK,SAAO,CAACf,KAAK,EAAM,CAAC,CAClC,CAEA,mBACER,KAAA,QAAAuB,QAAA,eACEvB,KAAA,OAAAuB,QAAA,EAAI,WAAS,CAACnB,QAAQ,CAAC,GAAC,EAAI,CAAC,cAC7BF,IAAA,OAAAqB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBrB,IAAA,OAAAqB,QAAA,CACGjB,QAAQ,CAACkB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC3B1B,KAAA,OAAAuB,QAAA,EACGE,OAAO,CAACE,KAAK,CAAC,MAAI,CAACF,OAAO,CAACG,KAAK,CAAC,KAAG,CAACH,OAAO,CAACI,IAAI,GAD3CH,KAEL,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAvB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}